import{ad as b,u as x,ac as w,r as p,a as S,k as h,S as C,o as k,c as q,b as r,w as s,V as B,d as o,h as u,ae as d,e as N,af as R,f as U,i as _,j as f,$}from"./index.5d0b617d.js";import{V as j}from"./VOverlay.36f9baa8.js";import{V as D,a as F}from"./VTextField.0f31cb1f.js";const M={id:"product"},P={class:"text-center"},T={class:"pre"},E=u("h1",{class:"text-center text-red"},"\u5DF2\u4E0B\u67B6",-1),G={__name:"ProductView",setup(I){const V=b(),c=x(),v=w(),{editCart:y}=v,i=p(!1),n=p(0),m={required(t){return!!t||"\u6B04\u4F4D\u5FC5\u586B"},number(t){return t>0||"\u6578\u91CF\u932F\u8AA4"}},e=S({_id:"",name:"",price:0,description:"",image:"",sell:!0,category:""}),g=()=>{!i.value||y({_id:e._id,quantity:n.value})};return(async()=>{try{const{data:t}=await h.get("/products/"+V.params.id);e._id=t.result._id,e.name=t.result.name,e.price=t.result.price,e.description=t.result.description,e.image=t.result.image,e.sell=t.result.sell,e.category=t.result.category,document.title="\u8CFC\u7269\u7DB2 | "+e.name}catch{C.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u5931\u6557"}),c.go(-1)}})(),(t,a)=>(k(),q("div",M,[r(B,null,{default:s(()=>[r(o,{cols:"12"},{default:s(()=>[u("h1",P,d(e.name),1)]),_:1}),r(N),r(o,{cols:"12"},{default:s(()=>[r(R,{src:e.image},null,8,["src"])]),_:1}),r(o,{cols:"12"},{default:s(()=>[u("p",null,"$"+d(e.price),1),u("p",T,d(e.description),1)]),_:1}),r(o,{cols:"12"},{default:s(()=>[r(D,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=l=>i.value=l),onSubmit:U(g,["prevent"])},{default:s(()=>[r(F,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=l=>n.value=l),modelModifiers:{number:!0},type:"number",lable:"\u6578\u91CF",rules:[m.required,m.number]},null,8,["modelValue","rules"]),r(_,{type:"submit",color:"primary"},{default:s(()=>[f("\u52A0\u5165\u8CFC\u7269\u8ECA")]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1}),r(j,{class:"align-center justify-center","model-value":!e.sell,persistent:""},{default:s(()=>[E,r(_,{onClick:a[2]||(a[2]=l=>$(c).go(-1))},{default:s(()=>[f("\u56DE\u4E0A\u9801")]),_:1})]),_:1},8,["model-value"])]))}};export{G as default};
